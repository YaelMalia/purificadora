<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buzón de mensajes</title>

    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/buzonMsg.css">
</head>
<header class = "header">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-4 col-md-4" class = "logoP" style="border-right-width: 1px; border-right-style:solid; border-color:rgba(146, 146, 146, 0.699)">
                <img src="sources/images/logo-purificadora.png" height="80" alt="Purificadora gota de ángel">
            </div>
            <div class="col-lg-8 col-md-8">
                <p><h2>Buzón de mensajes</h2></p>
            </div>
        </div>
    </div>
</header>
<button type="submit" onclick="obtenerDatos();" style="position:absolute; margin-top: 200px; margin-left: 50px;">Refrescar tablón</button>
<body>
    <div class="contenidoInv" style="margin-top: 180px; height: auto;">
        <p><h2 class="tdm">Tablón de mensajes</h2></p>
        <div class="container-fluid" style="height:auto;  background-color:rgba(197, 194, 194, 0.753); z-index: -1; margin-top: 10px;">
            <div class="row">
                <!--Tabla de inventario-->
                <div class="col-lg-12">
                    <div class="tablaInv" style="text-align: center;">
                        <table class="table">
                            <thead class="thead-dark">
                              <tr>
                                <th scope="col">No.</th>
                                <th scope="col">Mensaje</th>
                                <th scope="col">Remitente</th>
                              </tr>
                            </thead>
                            <tbody id = "tbody-Contenido">
                            </tbody>
                          </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
      
      window.onload = function(){
        obtenerDatos();
      };
      function obtenerDatos(){
        const r=new XMLHttpRequest();
        document.getElementById("tbody-Contenido").innerHTML = "";
            r.open("post", "js/Mensajes.json",true);
            r.send();
            r.onreadystatechange=function(){
                let datos= JSON.parse(this.responseText);
                var dat="";
                for (var item of datos) {
                  dat+='<tr><th scope="row">' + item.no + '</th> <td>'+ item.mensaje +
                    '</td><td>'+ item.remitente +'</td></tr>';
                }
                document.getElementById("tbody-Contenido").innerHTML = dat;
            };
      }
    </script>
</body>
</html>